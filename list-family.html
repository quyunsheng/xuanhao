<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<meta name="keywords" content="北京手机号,手机靓号,选号网,号码网,找号网,挑号网,搜号网手机号,手机号码,吉祥手机号" />
		<meta name="description" content="手机号码专业选好，北京手机号码领先的专业销售网站。各类北京移动、北京联通、北京电信、等手机号码，手机靓号，网上选号，免费送货上门，实名入网过户，手机选号首选。" />
		<title>413选号网，您的超值选择！选号网,手机号,手机号码,北京手机号,手机靓号,吉祥号,号码网,找号网,挑号网,搜号网</title>
		<link rel="stylesheet" href="css/index.css">
	</head>
	<link rel="stylesheet" type="text/css" href="css/common.css" />
	<link rel="stylesheet" type="text/css" href="css/index.css" />
	<link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />

	<body class="back-topBox">
		<!-- 公用头部 -->
		<script type="text/javascript" src="header.js"></script>
		<!-- 左侧 -->
		<div class="back-box">
			<div class="content clearfix">
				<div class="index-left">
					<!-- 左侧导航 -->
					<script type="text/javascript" src="left.js"></script>
				</div>
				<!-- 内容 -->
				<div class="index-right">
					<!-- 中间内容--------------------------------------------------- -->
					<div class="list-box">
						<div class="number">
							<div class="number-title">
								<span>北京手机靓号</span> 号码筛选
							</div>
							<ul class="number-box">
								<li>
									<p>按位精确搜索</p>
									<div class="number-w" data-key="card">
										<div class="position-find">
											<form action="" name="card">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t1" type="text" value="1">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t2" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t3" type="text">
												<i>-</i>
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t4" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t5" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t6" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t7" type="text">
												<i>-</i>
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t8" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t9" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t10" type="text">
												<input onfocus="this.select();this.selectionStart = 0;this.selectionEnd = this.val().length;" onmouseup="event.preventDefault()" maxlength="1" onkeyup="return" name="t11" type="text">
											</form>
										</div>
										<div class="number-btn one">精确查找</div>
										<span class="number-font">注：无法确定，则留空！</span>
									</div>
								</li>
								<li>
									<p>模糊搜索</p>
									<div class="number-mohu clearfix" data-key="mohu">
										<input maxlength="11" type="tel" />
										<div class="number-btn two">模糊查找</div>
										<span><input type="checkbox" id="tail" />&nbsp;&nbsp;搜索末尾</span>
									</div>
								</li>
								<li>
									<p>运营商</p>
									<ul data-key="name" id="yyx">
										<li class="choose" data-id="">全部</li>
										<li name="name" data-id="0" data-operator="yidong">移动</li>
										<li name="name" data-id="1" data-operator="liantong">联通</li>
										<li name="name" data-id="2" data-operator="dianxin">电信</li>
									</ul>
								</li>
								
								<li>
									<p>中间规律</p>
									<ul data-key="center">
										<li class="choose">全部</li>
										<li name="center">AAAA</li>
										<li name="center">AAAB</li>
										<li name="center">BAAA</li>
										<li name="center">AABB</li>
										<li name="center">ABAB</li>
										<li name="center">ABCD</li>
										<li name="center">1880000</li>
										<li name="center">1391111</li>
										<li name="center">1381111</li>
										<li name="center">1581111</li>
										<li name="center">178888</li>
									</ul>
								</li>
								<li>
									<p>尾数规律</p>
									<ul data-key="tail">
										<li class="choose">全部</li>
										<li name="tail">AAAAA</li>
										<li name="tail">AAAA</li>
										<li name="tail">AAA</li>
										<li name="tail">AABBB</li>
										<li name="tail">AABBB</li>
										<li name="tail">AAAB</li>
										<li name="tail">AA</li>
										<li name="tail">AABBCC</li>
										<li name="tail">AABB</li>
										<li name="tail">ABABAB</li>
										<li name="tail">ABAB</li>
										<li name="tail">ABCDABCD</li>
										<li name="tail">ABCD</li>
										<li name="tail">ABC</li>
										<li name="tail">ABCABC</li>
										<li name="tail">AABBCC*</li>
										<li name="tail">ABCABC*</li>
										<li name="tail">ABABAB*</li>
										<li name="tail">ABC**ABC</li>
										<li name="tail">*ABC*ABC </li>
										<li name="tail">ABCDABCD***</li>
									</ul>
								</li>
								<li>
									<p>数字属性</p>
									<ul data-key="numMore">
										<li class="choose">全部</li>
										<li name="numMore">数字9多</li>
										<li name="numMore">数字8多</li>
										<li name="numMore">数字7多</li>
										<li name="numMore">数字6多</li>
										<li name="numMore">数字5多</li>
										<li name="numMore">数字4多</li>
										<li name="numMore">数字3多</li>
										<li name="numMore">数字2多</li>
										<li name="numMore">数字1多</li>
										<li name="numMore">数字0多</li>
									</ul>
								</li>
								<li>
									<p>号码类型</p>
									<ul data-key="numType">
										<li class="choose">情侣号</li>
										<li name="numType">家庭号</li>
									</ul>
								</li>
								
								<li>
									<p>已选条件</p>
									<div class="selected-big-box">
										<ul class="selected-box clearfix delete">
											<li id="yys-choose" class="selected" name="name" data-back="operator"></li>
											<li class="selected" name="mohu" data-back="dminPhone"></li>
											<li class="selected" name="card" data-back=""></li>
											<li class="selected" name="number" data-back="numPars"></li>
											<li class="selected" name="pay" data-back="price"></li>
											<li class="selected" name="center" data-back="middle"></li>
											<li class="selected" name="tail" data-back="suffix"></li>
											<li class="selected" name="numMore" data-back="numAttr"></li>
											<li class="selected" name="numType" data-back="cnt"></li>
										</ul>
										<div class="fl selected-remove">重置筛选条件</div>
									</div>
								</li>
							</ul>
						</div>
						<!-- --------------- 综合排序 ------------------- -->
						<div class="sortbar clearfix">
							<ul class="sortbar-nav clearfix">
								<li class="choose" data-aes="" data-sort="ASC">综合排序</li>
								<li data-aes="phoneNum" data-sort="ASC">号码</li>
								<li data-aes="price" data-sort="ASC">价格</li>
								<li data-aes="createTime" data-sort="ASC">更新时间</li>
							</ul>
						</div>
						<div class=" clearfix">
							<div class="number-mohu">
								<span><input name="include" type="radio" value="4" />&nbsp;&nbsp;不含4</span>
								<span><input name="include" type="radio" value="7"/>&nbsp;&nbsp;不含7</span>
							</div>
							<div class="number-layout">
								<i class="fa fa-th-large fa-lg"></i>
								<i class="fa fa-navicon fa-lg"></i>
							</div>
						</div>
						<!-- 号码 -->
						<ul class="phone-box phone-box-5 clearfix" id="listStyle-change">
							<!-- phone-box-list -->
<!-- 							<li>
								<div>
									<h3>15210323785</h3>
									<h3>15210323785</h3>
									<span>北京移动</span>
									<p><span>￥50</span><i>(含花费：<span>50</span>元)</i></p>
								</div>
								<div>
									<h3>15210323785</h3>
									<h3>15210323785</h3>
									<a class="yu" href="#">预约</a>
									<a class="shou" href="#">收藏</a>
								</div>
							</li> -->
						</ul>
					</div>
					<!-- ---------------------------------------------------------- -->
					<!-- 分页 -->
					<div style="text-align: center; margin: 30px 0 0;">
						<div id="pager" class="pager clearfix">
						</div>
					</div>
					<!--  -->
				</div>

			</div>
		</div>

		<!-- 底部 -->
		<script type="text/javascript" src="footer.js"></script>
	</body>
</html>

<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="js/jquery.z-pager.js" type="text/javascript" charset="utf-8"></script>
<!-- 客户咨询 -->
<script src="publicAjax.js"></script>
<script>
	// 升序降序
	$('.sortbar-nav li').click(function () {
		if($(this).attr('data-sort') == 'ASC'){
            $(this).attr('data-sort','DESC');
		}else{
            $(this).attr('data-sort','ASC');
		}
        $('.sortbar-nav li').removeClass('choose')
		$(this).addClass('choose');

        Gdata['orderKey'] = $(this).data('aes');
        Gdata['orderType'] = $(this).attr('data-sort');
		aaaaa(1,1,Gdata)
    });
	$('.phone-box li>div:first-child h3').each(function() {
		var str = $(this).text();
		var h3Html = str.substring(0, 3) + "<span class='phone-h3-color'>" + str.substring(3, 7) + "</span>" + str.substring(
			7, 11);
		$(this).html(h3Html);
		//console.log(str)
	})

	$(".number-selected div").mousemove(function() {
		$(".number-selected div .number-selected-box").eq($(this).index()).css('display', 'block');
	}).mouseout(function() {
		$('.number-selected-box').css('display', 'none')
	});

	/*--------------*/
	$('.number-layout .fa-th-large').click(function() {
		$('.number-layout .fa-navicon').css('color', '#666');
		$('.number-layout .fa-th-large').css('color', '#E4393C')
		$('#listStyle-change').removeClass('phone-box-list').addClass('phone-box phone-box-5')
	})
	$('.number-layout .fa-navicon').click(function() {
		$('.number-layout .fa-th-large').css('color', '#666')
		$('.number-layout .fa-navicon').css('color', '#E4393C');
		$('#listStyle-change').removeClass('phone-box phone-box-5').addClass('phone-box-list')
	})


	/* input 光标 */
	$('.position-find input').bind('keyup', function() {
		/*  var name = "s2AAaa12312123123123";
			var rel = /[a-z]+([0-9]*?)$/;
			var num = name.match(rel);
			console.log(num)
			 */
		/* var name = $(this).attr("name");
			var num = name.split("t")[1];
			num++
			if (num > 11) {
				$("input[type='tel']").focus()
			}
			$("input[name = 't"+ num +"']").focus(); 
		*/
		// qysdl
		if ($(this).attr('name') == 't11')
			$("input[type='tel']").focus()
		$(this).nextAll('input').first().focus();
	})

	/*  筛选  */
	$(document).on('click', '.number-box > li > ul > li,.number-selected-box li', function() {
		$(this).addClass('choose').siblings().removeClass('choose');
		var name = $(this).attr('name');
		$('.selected-box li[name=' + name + ']').text($(this).text()).css({
			'display': 'block',
			'position': 'relative'
		})
		var deleteLi = '<i></i>'
		$('.selected-box li[name=' + name + ']').append(deleteLi)
		/*----------------------------------*/
		var ppp = {};
		$('.number-box li ul li.choose').each(function() {
			if ($(this).html() != '全部') {
				ppp[$(this).parent().data('key')] = $(this).html();
			}
		})

		var json = {};
		for (var i in ppp) {
			if (i == 'name') {
				json['operator'] = getOId(ppp[i]);
			}
			if (i == 'number') {
				json['numPars'] = ppp[i];
			}
			if (i == 'pay') {
				json['price'] = ppp[i];
			}
			if (i == 'center') {
				json['middle'] = ppp[i];
			}
			if (i == 'tail') {
				json['suffix'] = ppp[i];
			}
			if (i == 'numMore') {
				json['numAttr'] = ppp[i];
			}
			if (i == 'numType') {
				json['cnt'] = ppp[i];
			}
		}
		aaaaa(1, 1, json)
	});

	function getOId(name) {
		if (name == '移动') {
			return 0;
		}
		if (name == '联通') {
			return 1;
		}
		if (name == '电信') {
			return 2;
		}
	}
	/*  删除  */
	$('.selected-remove').click(function() {
		var aaa = 0;
		if ($(this).prev().find('li:first').css('display') == 'block') {
			aaa = 1;
		}
		$('.selected-box li').not("#yyx li").css('display', 'none');
		aaa > 0 && $(this).prev().find('li:first').css('display', 'block')

		var bbb = 0;
		bbb = $('#yyx li.choose').index();

		$('.number-box > li > ul > li:first-child,.number-selected-box li:first-child').addClass("choose").siblings().removeClass(
			'choose');
		$('#yyx li').eq(bbb).click();
		//筛选 data-back 为空
		/* $('.selected-box li').each(function(e){
			ppp[$(e).attr("data-back")] = '';
		} */
		//console.log($('.selected-box li'))


	})


	$('.delete li').click(function() {
		var name = $(this).attr('name');
		$(this).html('').css({
			'display': 'none',
			'position': 'none'
		})
		$('.number-box > li > ul[data-key ="' + name + '"]>li').not("#yyx li").siblings().removeClass('choose');
		$('.number-box > li > ul[data-key ="' + name + '"]>li:first-child').addClass('choose')
	})

	function getstr() {
		var aaa = '';
		$('form[name=card]').find('input').each(function() {
			aaa += $(this).val() ? $(this).val() : '_';
		})
		return aaa;
	}

	/* ---- */



	$('.number-btn').click(function() {

		$('.number-box > li > ul > li:first-child,.number-selected-box li:first-child').not("#yyx li").addClass("choose").siblings()
			.removeClass('choose');
		$('.selected-box li').not("#yys-choose").css('display', 'none');

		$('.selected-box li[name=mohu]').text($(this).text()).css({
			'display': 'block',
			'position': 'relative'
		})
		var deleteLi = '<i></i>'
		$('.selected-box li[name=mohu]').append('xxx')
		var name = $(this).attr('name');
		var tmp = getstr();
		if ($(this).hasClass('two')) {
			tmp = $('input[type=tel]').val()
		}
		$('.selected-box li[name=mohu]').css('display', 'block').html(tmp)
		/*console.log($('.selected-box li[name=mohu]'))*/

	})
	$('.number-mohu .two').click(function() {
		/* 	console.log($('.number-mohu input').val())
			
			 if($('.number-mohu input').val()){
				$('.selected-box li[name="mohu"]').css('display','none')
			} */
	})




	/* 运营商切换 */
	var yyx = [
		[187, 190],
		[100, 111],
		[100, 21],
	]
	$('#yyx li').click(function() {
		$(this).addClass('choose').siblings().removeClass('choose');
		//$(".number-box li ul[data-key=number] li").
		$('ul[data-key=number]').html('<li class="choose">全部</li>')
		//console.log($(this).html())
		if ($(this).html() == '全部') {
			$('.selected-box li').not("#yyx li").css('display', 'none');

			for (i in yyx) {
				for (j in yyx[i]) {
					//console.log(yyx[i][j]) 全部
					$('ul[data-key=number]').append('<li name="number">' + yyx[i][j] + '</li>');
				}
			}
		} else {
			//console.log('qqq')
			for (i in yyx[$(this).index() - 1]) {
				$('ul[data-key=number]').append('<li name="number">' + yyx[$(this).index() - 1][i] + '</li>');
			}
		}
	})
</script>

<script type="text/javascript">
	function currentPage(currentPage,sign) {
		//触发页码数位置： Page/js/jquery.z-pager.js 64行
        sign && aaaaa(currentPage)
	}
</script>

<script type="text/javascript">




	//不含 4 7 0
	$('.number-mohu input').click(function () {
		//console.log($(this).val())
        aaaaa(1, 1, {
            noNum: $(this).val()
        })
    })
	//精确查找
	$('.number-btn.one').click(function() {
		var value = $('.selected-box li[name=mohu]').text()
		aaaaa(1, 1, {
			phoneNum: value
		})
	})
	/* //模糊查找
	$('.number-btn.two').click(function() {
		var value = $('.selected-box li[name=mohu]').text()
		aaaaa(1, 1, {
			dminPhone: value
		})
	}) */
	//模糊查找
	$('.number-btn.two').click(function() {
		var value = $('.selected-box li[name=mohu]').text()

		if($('.selected-box li[name=mohu]').html() ==''){
			$('.selected-box li[name=mohu]').css('display','none')
		}
		//console.log(value)
		var dminSuf =  $('#tail').prop("checked")
		if(dminSuf==true){
			dminSuf = 1
		}else if(dminSuf == false){
			dminSuf = 0
		}
		aaaaa(1, 1, {dminPhone: value},dminSuf)//console.log(suf)
	})
	// aaaaa(1, 1)
	var Gdata = {};
	var page=page||1;
	var init=init||0;
	var _data={};
	function aaaaa(page, init, _data,dminSuf) {
		var _pages = 10;
		_data.pageSize = _pages;
		_data.cnt = 3 // 家庭;
		_data.pageNo = page;
		_data.dminSuf = dminSuf;

        Gdata = _data,
		$.ajax({
			// url:"http://192.168.3.5:8080/xuanhao/web/getPhones?page='+page'",
			url: path+"/web/getQPhones",
			type: 'get',
			dataType: 'json',
			data: _data,
			xhrFields: {withCredentials: true},
			success: function(msg) {

				/* ------------ */

				var result = msg.data;
				/* ------------ */

				$('#listStyle-change').html('')
				for (var i in result.list) {

				    var price = 0,tmpstr = '',ids = '';
					for(var j in result.list[i]){
                        price += result.list[i][j]['price']*1;
                        tmpstr += '<h3>'+ result.list[i][j].phoneNum + '</h3>';
						ids += result.list[i][j].id + ',';
					}
					ids = ids.substring(0, ids.length - 1);

					if(result.list[i].status == 1){
						var listStyle =
								'<li class="yuSuccess uesr-choose"><div>'+tmpstr+'<span>'+ onOperator(result.list[i][j].operator) +'</span><p><span>￥' + price +
								'</span><i>(含花费：<span>' + price + '</span>元)</i></p></div><div>' + tmpstr +
								'<a class="yu" href="yu.html?id=' + ids +'">预约</a></div></li>'
					}else{
						var listStyle =
								'<li><div>'+tmpstr+'<span>'+ onOperator(result.list[i][j].operator) +'</span><p><span>￥' + price +
								'</span><i>(含花费：<span>' + price + '</span>元)</i></p></div><div>' + tmpstr +
								'<a class="yu" href="yu.html?id=' + ids +'">预约</a></div></li>'

					}
					$('#listStyle-change').append(listStyle)
					/* 正在用
 					var listStyle =
                        '<li><div>'+tmpstr+'<span>'+ onOperator(result.list[i][j].operator) +'</span><p><span>￥' + price +
                        '</span><i>(含花费：<span>' + price + '</span>元)</i></p></div><div>' + tmpstr +
						'<a class="yu" href="yu.html?id=' + ids +'">预约</a></div></li>'*/
					/*备用
					 	var listStyle =    //,'+ result.list[i][2].id + ','+ result.list[i][3].id +'
                        '<li><div>'+tmpstr+'<span>北京移动</span><p><span>￥' + price +
                        '</span><i>(含花费：<span>' + price + '</span>元)</i></p></div><div>' + tmpstr +
						'<a class="yu" href="yu.html?id='
                        + result.list[i][i].id + '&id2='+ result.list[i][1].id +'">预约</a></div></li>'

                        $('#listStyle-change').append(listStyle)
                        */
				}

				//page分页
				 init && $("#pager").zPager({
					totalData: result.totalRecord,
					pageData: _pages,
                });

				//div 高度设置
				$('.phone-box>li>div:first-child').height('130')
				$('.phone-box>li>div:last-child').height('160')


			},
			error: function(e) {
				console.log("没成功")
				//如果没有
				if (Status = 500) {
					$('.phone-box-5').html('')
					$('.phone-box-5').append('<div class="listNone">没有匹配的数据</div>')
					console.log('数据为空')
				}
			}

		})
		//判断
		function onOperator(operator) {
			return operator==0?'移动':operator==1?'联通':operator==2?'电信':'';
		}
	}

	/*
	aaa = {
		xuanranzuidixia: function(){
		},
	}
    aaa.xuanranzuidixia();
    */




    /* nav点击 */
	getUrlParam = function(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
		var r = window.location.search.substr(1).match(reg);
		if (r != null) return unescape(r[2]);
		return null;
	}


//nav 选中
$('.head-nav ul li').eq(1).addClass('choose').siblings().removeClass('choose');

	/* 大按钮选中 */
	function navBut(thisNumber){
		if(getUrlParam('navhead') == thisNumber){
			$('.head-nav ul li').eq(thisNumber).addClass('choose').siblings().removeClass('choose')
			
		}
	}
	navBut(getUrlParam('navhead'))


	

	/* 小按钮选中 */
	function butChoose(thisNumber){
		if(getUrlParam('navhead') == thisNumber){
			$('#yyx li').eq(thisNumber).addClass('choose').siblings().removeClass('choose')
			$('#yyx li').eq(thisNumber).click()
		}
	}
	butChoose(getUrlParam('navhead'))
</script>
